(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2088b4"],{a4f1:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{width:"500",persistent:""},model:{value:e.openSingleReq,callback:function(t){e.openSingleReq=t},expression:"openSingleReq"}},[n("jobApplocantsData",{attrs:{singleRequest:e.singleRequest},on:{closeDilogJobApllicants:function(t){e.openSingleReq=!1}}})],1),[n("h3",{staticClass:"text-center mb-7 mt-5"},[e._v("المتقدمين للوظيفة")]),n("v-card",[n("v-card-title",[n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"بحث","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{attrs:{loading:e.loadingMainData,headers:e.headersRequest,items:e.request,search:e.search},scopedSlots:e._u([{key:"item.actions",fn:function(t){var a=t.item;return[n("v-icon",{staticClass:"ml-2",attrs:{color:"info",medium:""},on:{click:function(t){return e.openSingleRequest(a)}}},[e._v("mdi-eye")]),n("v-icon",{attrs:{color:"error",medium:""},on:{click:function(t){return e.opendelRequest(a)}}},[e._v("mdi-delete")])]}},{key:"item.accept",fn:function(t){var a=t.item;return["accepted"===a.status?n("v-btn",{attrs:{loading:e.loading,color:"success"}},[n("v-icon",[e._v("mdi-check-decagram")])],1):n("v-btn",{attrs:{color:"success"},on:{click:function(t){return e.confirmStatus(a,"accepted")}}},[e._v(" قبول ")])]}},{key:"item.refused",fn:function(t){var a=t.item;return["refused"===a.status?n("v-btn",{attrs:{color:"error",loading:e.loading}},[n("v-icon",[e._v("mdi-check-decagram")])],1):n("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.confirmStatus(a,"refused")}}},[e._v(" رفض ")])]}}],null,!0)}),n("v-dialog",{attrs:{width:"500"},model:{value:e.openDeleteRequest,callback:function(t){e.openDeleteRequest=t},expression:"openDeleteRequest"}},[n("deleteItemsConfirmMsg",{attrs:{loading:e.loading,content:"هذا المتقدم"},on:{submit:e.sureDelRequest,closeDeleteDilog:function(t){e.openDeleteRequest=!1}}})],1)],1)]],2)},s=[],r=n("5530"),c=n("1da1"),l=(n("4de4"),n("96cf"),n("d4ec")),o=n("bee2"),i=n("202f"),u=function(){function e(){Object(l["a"])(this,e)}return Object(o["a"])(e,null,[{key:"statusChange",value:function(e){return Object(i["a"])().put("request",e)}},{key:"deleteRequest",value:function(e){return Object(i["a"])().delete("request/".concat(e))}},{key:"getRequest",value:function(){return Object(i["a"])().get("request/all")}}]),e}(),d=u,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",{staticClass:"pa-5"},[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.$emit("closeDilogJobApllicants")}}},[n("v-icon",[e._v("mdi-close")])],1),n("h2",{staticClass:"text-center mb-3"},[e._v("الإطلاع علي المتقدم للوظيفة")]),n("v-row",[n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"12"}},[n("span",[e._v("الاسم:")]),n("p",{staticClass:"mr-3"},[e._v(e._s(e.singleRequest.username))])])],1),n("v-row",[n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"12"}},[n("span",[e._v("العمر:")]),n("p",{staticClass:"mr-3"},[e._v(e._s(e.singleRequest.age))])])],1),n("v-row",[n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"12"}},[n("span",[e._v("نوع الموتوسيكل:")]),n("p",{staticClass:"mr-3"},[e._v(e._s(e.singleRequest.motoType))])])],1),n("v-row",[n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"12"}},[n("span",[e._v("رقم الهاتف:")]),n("p",{staticClass:"mr-3"},[e._v(e._s(e.singleRequest.phone))])])],1),n("v-row",[n("v-col",{staticClass:"d-flex",attrs:{cols:"12",sm:"12"}},[n("span",[e._v("العنوان:")]),n("p",{staticClass:"mr-3"},[e._v(e._s(e.singleRequest.address))])])],1)],1)],1)},g=[],p={props:["singleRequest"]},f=p,m=n("2877"),q=n("6544"),h=n.n(q),R=n("8336"),b=n("b0af"),x=n("62ad"),_=n("132d"),k=n("0fd9"),w=Object(m["a"])(f,v,g,!1,null,"40815ab6",null),C=w.exports;h()(w,{VBtn:R["a"],VCard:b["a"],VCol:x["a"],VIcon:_["a"],VRow:k["a"]});var D={components:{jobApplocantsData:C},data:function(){return{search:"",loading:!1,request:[],openSingleReq:!1,singleRequest:{},requestId:null,openDeleteRequest:!1,headersRequest:[{text:"الاسم",align:"center",value:"username"},{text:"العمر",align:"center",value:"age"},{text:"العنوان",align:"center",value:"address"},{text:"نوع الموتوسيكل",align:"center",value:"motoType"},{text:"رقم الهاتف",align:"center",value:"phone"},{text:"الحالة",align:"center",value:"status"},{text:"قبول",align:"center",value:"accept"},{text:"رفض",align:"center",value:"refused"},{text:"رؤية او حذف",align:"center",value:"actions"}]}},methods:{confirmStatus:function(e,t){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.status="accepted"===t?"accepted":"refused",a.prev=1,n.loading=!0,a.next=5,d.statusChange(e);case 5:s=a.sent,console.log(s),console.log(s.data.request.status),n.loading=!1,a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](1),console.log(a.t0),n.loading=!1;case 15:case"end":return a.stop()}}),a,null,[[1,11]])})))()},openSingleRequest:function(e){this.openSingleReq=!0,this.singleRequest=Object(r["a"])({},e)},opendelRequest:function(e){this.requestId=e._id,this.openDeleteRequest=!0},sureDelRequest:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,console.log(e.requestId),t.next=5,d.deleteRequest(e.requestId);case 5:n=t.sent,console.log(n),e.loading=!1,e.openDeleteRequest=!1,e.ToasteSuccessMsg("تم مسح المتقدم بنجاح"),e.request=e.request.filter((function(t){return t._id!==e.requestId})),t.next=18;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0),e.loading=!1,e.toastErrorMsg("حدث خطأ اثناء مسح المتقدم");case 18:case"end":return t.stop()}}),t,null,[[0,13]])})))()}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loadingMainData=!0,t.next=4,d.getRequest();case 4:n=t.sent,e.loadingMainData=!1,console.log(n),e.request=n.data.requests,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0),e.loadingMainData=!1;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))()}},j=D,S=n("99d9"),V=n("8fea"),O=n("169a"),y=n("8654"),I=Object(m["a"])(j,a,s,!1,null,"4d694e38",null);t["default"]=I.exports;h()(I,{VBtn:R["a"],VCard:b["a"],VCardTitle:S["c"],VDataTable:V["a"],VDialog:O["a"],VIcon:_["a"],VTextField:y["a"]})}}]);
//# sourceMappingURL=chunk-2d2088b4.999de82d.js.map